BD=/usr/local/bin/boot2docker

bdhost() {
        $($BD shellinit)
}

bdip() {
        $BD ip
}

bdns() {
        # Check for nsenter. If not found, install it
        $BD ssh '[ -f /var/lib/boot2docker/nsenter ] || docker run --rm -v /var/lib/boot2docker/:/target jpetazzo/nsenter'
 
        # Use bash if no command is specified
        args=$@
        if [[ $# = 1 ]]; then
          args+=(/bin/bash)
        fi
 
       $BD ssh -t sudo /var/lib/boot2docker/docker-enter "${args[@]}"
}

devbox() {
        bdhost
        docker run -ti --rm --privileged --name dev -v /var/run/docker.sock:/var/run/docker.sock -v /usr/local/bin/docker:/usr/local/bin/docker -v ~/go/src:/go/src mg-godev /bin/bash
}

